<div th:fragment="quickAddModal" id="quickAddModal"
	class="quick-add-modal hidden" role="dialog" aria-hidden="true">
	<div class="quick-add-card">
		<div class="quick-add-row title-row">
			<input id="qaTitle" type="text" placeholder="일정 제목 입력 (달력에 보일 타이틀)" />
		</div>

		<div class="quick-add-row">
			<select id="qaColor" title="색상">
				<option value="#3788d8" class="color-opt-blue">파랑</option>
				<option value="#FF5722" class="color-opt-orange">주황</option>
				<option value="#4CAF50" class="color-opt-green">초록</option>
				<option value="#FFC107" class="color-opt-yellow">노랑</option>
				<option value="#9C27B0" class="color-opt-purple">보라</option>
			</select> <input id="qaEmoji" type="text" placeholder="이모지 입력" />
		</div>

		<div class="quick-add-row">
			<textarea id="qaDesc" placeholder="설명/내용 (선택)"></textarea>
		</div>

		<div class="quick-add-row time-rows">
			<div class="time-col">
				<label>시작 날짜</label> <input id="qaStartDate" type="date" /> <input
					id="qaStartTime" type="time" step="600" />
			</div>
			<div class="time-col">
				<label>종료 날짜</label> <input id="qaEndDate" type="date" /> <input
					id="qaEndTime" type="time" step="600" />
			</div>
		</div>
		<!-- ✅ 반복 일정 옵션: 하루종일 체크박스 옆에 배치 -->
		<div class="quick-add-row small-row justify-between">
			<label> <span class="icon-clock">🕒</span> <input
				id="qaAllDay" type="checkbox" /> 하루종일
			</label> 
			<label id="repeatOptionLabel" style="font-size: 0.9em;"> 
				<input id="qaRepeat" type="checkbox" /> 선택 기간 동안 매일 동일 시간 적용
			</label>
		</div>
		
		<!-- ✅ 반복 일정 경고 멘트: 초기에는 숨겨진 상태로 배치 -->
		<div id="repeatWarningContainer" style="display: none;">
			<p id="repeatWarningText"
				style="font-size: 0.75em; color: #E53E3E; margin-top: 2px; padding-left: 1.5em; line-height: 1.3;">
				**주의:** 동일 시간 적용한 일정은 개별적인 일정으로 반복 등록됩니다. 수정/삭제 시 모든 일정을 개별적으로 처리해야 할 수
				있습니다.</p>
		</div>

		<div class="quick-add-row notify-row">
			<label>알림</label> 
			<select id="qaNotify">
				<option value="-1">알림 없음</option>
				<option value="0">일정 시작</option>
				<option value="10">10분 전</option>
				<option value="60">1시간 전</option>
				<option value="1440">1일 전</option>
				<option value="custom">직접 설정...</option>
			</select>
			
			<!-- ✅ 직접 설정 시 나타날 사용자 정의 알림 필드 (초기 숨김) -->
			<div id="qaCustomAlertContainer" style="display: none; gap: 5px;">
                <input id="qaCustomAlertValue" type="number" min="1" style="width: 70px;" placeholder="값" />
                <select id="qaCustomAlertUnit">
                    <option value="M">분</option>
                    <option value="H">시간</option>
                    <option value="D">일</option>
                    <option value="W">주</option>
                </select>
                <span>전</span>
            </div>
		</div>

		<div class="quick-add-row justify-end">
			<button id="qaToggleAdvanced" class="btn secondary small">추가
				옵션 보기</button>
		</div>

		<div id="qaAdvancedOptions" class="advanced-options hidden">
			<div class="quick-add-row">
				<input id="qaAlertType" type="text" placeholder="알림 타입(alert_type)" />
			</div>

			<div class="quick-add-row">
				<span class="icon-location">📍</span> <input id="qaLocation"
					type="text" placeholder="장소 입력" />
				<button id="qaMapBtn" class="btn secondary small">지도</button>
			</div>

			<div class="quick-add-row">
				<input id="qaHighlightType" type="text"
					placeholder="하이라이트 타입(highlight_type)" /> <input id="qaCategory"
					type="text" placeholder="카테고리(category)" />
			</div>
			<div class="quick-add-row">
				<input id="qaAttachmentPath" type="text"
					placeholder="첨부 파일 경로(attachment_path)" /> <input
					id="qaAttachmentList" type="text"
					placeholder="첨부 파일 목록(attachment_list)" />
			</div>
		</div>

		<div class="quick-add-actions">
			<button id="qaCancel" class="btn secondary">취소</button>
			<button id="qaSave" class="btn primary">저장</button>
		</div>
	</div>
</div>


<div th:fragment="editModal" id="editModal"
	class="quick-add-modal hidden" role="dialog" aria-hidden="true">
	<div class="quick-add-card">

		<input type="hidden" id="editScheduleId" />
		<div class="quick-add-row title-row">
			<input id="editTitle" type="text" placeholder="일정 제목 입력 (달력에 보일 타이틀)" />
		</div>

		<div class="quick-add-row">
			<select id="editColor" title="색상">
				<option value="#3788d8" class="color-opt-blue">파랑</option>
				<option value="#FF5722" class="color-opt-orange">주황</option>
				<option value="#4CAF50" class="color-opt-green">초록</option>
				<option value="#FFC107" class="color-opt-yellow">노랑</option>
				<option value="#9C27B0" class="color-opt-purple">보라</option>
			</select> <input id="editEmoji" type="text" placeholder="이모지 입력" />
		</div>

		<div class="quick-add-row">
			<textarea id="editDesc" placeholder="설명/내용 (선택)"></textarea>
		</div>

		<div class="quick-add-row small-row">
			<label> <span class="icon-clock">🕒</span> <input
				id="editAllDay" type="checkbox" /> 하루종일
			</label>
		</div>

		<div class="quick-add-row time-rows">
			<div class="time-col">
				<label>시작 날짜</label> <input id="editStartDate" type="date" /> <input
					id="editStartTime" type="time" step="600" />
			</div>
			<div class="time-col">
				<label>종료 날짜</label> <input id="editEndDate" type="date" /> <input
					id="editEndTime" type="time" step="600" />
			</div>
		</div>

		<div class="quick-add-row notify-row">
			<!-- editModal에도 "알림 없음" 및 커스텀 알림 UI를 일관성 있게 추가합니다. -->
			<label>알림</label> 
			<select id="editNotify">
				<option value="-1">알림 없음</option>
				<option value="0">일정 시작</option>
				<option value="10">10분 전</option>
				<option value="60">1시간 전</option>
				<option value="1440">1일 전</option>
				<option value="custom">직접 설정...</option>
			</select>
			
			<div id="editCustomAlertContainer" style="display: none; gap: 5px;">
                <input id="editCustomAlertValue" type="number" min="1" style="width: 70px;" placeholder="값" />
                <select id="editCustomAlertUnit">
                    <option value="M">분</option>
                    <option value="H">시간</option>
                    <option value="D">일</option>
                    <option value="W">주</option>
                </select>
                <span>전</span>
            </div>
		</div>

		<div class="quick-add-row justify-end">
			<button id="editToggleAdvanced" class="btn secondary small">추가
				옵션 보기</button>
		</div>

		<div id="editAdvancedOptions" class="advanced-options hidden">
			<div class="quick-add-row">
				<input id="editAlertType" type="text"
					placeholder="알림 타입(alert_type)" /> 
				<!-- editCustomAlertValue는 위로 이동했으므로 삭제 -->
			</div>

			<div class="quick-add-row">
				<span class="icon-location">📍</span> <input id="editLocation"
					type="text" placeholder="장소 입력" />
				<button id="editMapBtn" class="btn secondary small">지도</button>
			</div>

			<div class="quick-add-row">
				<input id="editHighlightType" type="text"
					placeholder="하이라이트 타입(highlight_type)" /> <input id="editCategory"
					type="text" placeholder="카테고리(category)" />
			</div>
			<div class="quick-add-row">
				<input id="editAttachmentPath" type="text"
					placeholder="첨부 파일 경로(attachment_path)" /> <input
					id="editAttachmentList" type="text"
					placeholder="첨부 파일 목록(attachment_list)" />
			</div>
		</div>

		<div class="quick-add-actions edit-actions">
			<button id="editDelete" class="btn delete">삭제</button>
			<button id="editCancel" class="btn secondary">취소</button>
			<button id="editSave" class="btn primary">수정</button>
		</div>
	</div>
</div>
