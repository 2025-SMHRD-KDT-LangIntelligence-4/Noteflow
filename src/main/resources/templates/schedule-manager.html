<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="_csrf" th:content="${_csrf.token}" />
<meta name="_csrf_header" th:content="${_csrf.headerName}" />

<title>ìŠ¤ì¼€ì¤„ ê´€ë¦¬ ë‹¬ë ¥</title>

<!-- FullCalendar -->
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>

<!-- flatpickr -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ko.js"></script>

<link rel="stylesheet" th:href="@{/css/schedule-manager.css}" />
<link rel="stylesheet" th:href="@{/css/header.css}" />
<link rel="stylesheet" th:href="@{/css/footer.css}" />

<style>
/* FullCalendar ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì¡°ì • */
#calendar { max-width: 900px; margin: 0 auto; }
.selected-date { background-color: #d3eaff !important; }
.fc-event-title { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 120px; }
.range-picker-container { margin-top: 10px; }
.time-row { display: flex; align-items: center; gap: 6px; margin-top: 6px; }
.time-row span { min-width: 80px; font-size: 14px; }
input[type="time"] {
    padding: 4px 6px;
    border: 1px solid #ccc;
    border-radius: 6px;
    width: 110px;
}
.auto-time-tip small { color: #666; font-size: 12px; }
</style>
</head>

<body>
<div th:replace="fragments/header :: siteHeader"></div>

<div class="location-container">

    <!-- ì¢Œì¸¡ ì¼ì • ê´€ë¦¬ íŒ¨ë„ -->
    <div class="schedule-manager-container">
        <div class="date">ë‚ ì§œë¥¼ ì„ íƒí•˜ì„¸ìš”</div>
        <input type="text" class="schedule-search" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥ í›„ Enter" />
        <div class="schedule">ì‘ì„±ëœ ìŠ¤ì¼€ì¤„ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</div>

        <!-- ìƒ‰ìƒ í•„í„° -->
        <div class="schedule-color-filter">
            <span>ì¹´í…Œê³ ë¦¬ í•„í„°:</span>
            <div class="filter-options">
                <div class="filter-option" data-color="all" style="background-color:#000;color:#fff;">ì „ì²´</div>
                <div class="filter-option" data-color="#3788d8" style="background-color:#3788d8;"></div>
                <div class="filter-option" data-color="#FF5722" style="background-color:#FF5722;"></div>
                <div class="filter-option" data-color="#4CAF50" style="background-color:#4CAF50;"></div>
                <div class="filter-option" data-color="#FFC107" style="background-color:#FFC107;"></div>
                <div class="filter-option" data-color="#9C27B0" style="background-color:#9C27B0;"></div>
            </div>
        </div>

        <!-- ìƒ‰ìƒ ì„ íƒ -->
        <div class="schedule-color-picker">
            <span>ì¹´í…Œê³ ë¦¬ ìƒ‰ìƒ:</span>
            <div class="color-options">
                <div class="color-option" data-color="#3788d8" style="background-color:#3788d8;"></div>
                <div class="color-option" data-color="#FF5722" style="background-color:#FF5722;"></div>
                <div class="color-option" data-color="#4CAF50" style="background-color:#4CAF50;"></div>
                <div class="color-option" data-color="#FFC107" style="background-color:#FFC107;"></div>
                <div class="color-option" data-color="#9C27B0" style="background-color:#9C27B0;"></div>
            </div>
        </div>

        <!-- ë‹¨ì¼ ì¼ì • ì…ë ¥ -->
        <input type="text" class="schedule-create" placeholder="ìŠ¤ì¼€ì¤„ì„ ì…ë ¥í•˜ì„¸ìš”" />

        <!-- ========================== -->
        <!-- ì‹œê°„ ì„ íƒ ì„¹ì…˜ -->
        <!-- ========================== -->
        <div class="time-picker-container" style="margin-top:15px;">
            <label class="time-picker-label">â° ì‹œê°„ ì„ íƒ</label>

            <!-- ë‹¨ê¸° ì¼ì • -->
            <div id="singleDayTime" style="margin-top:8px;">
                <div class="time-row">
                    <span>ì‹œì‘ ì‹œê°„:</span>
                    <input type="time" id="startTime" name="startTime" step="600" />
                </div>
                <div class="time-row">
                    <span>ì¢…ë£Œ ì‹œê°„:</span>
                    <input type="time" id="endTime" name="endTime" step="600" />
                </div>
                <div class="auto-time-tip">
                    <small>â€» ë¯¸ì…ë ¥ ì‹œ ê¸°ë³¸ê°’: 01:00 ~ 23:00 </small>
                </div>
            </div>

            <!-- ì¥ê¸° ì¼ì • -->
            <div id="multiDayOption" style="display:none; margin-top:10px;">
                <label>
                    <input type="checkbox" id="applyToAllDays" checked />
                    <span>ğŸ“… ì „ì²´ ê¸°ê°„ì— ë™ì¼í•œ ì‹œê°„ ì ìš©</span>
                </label>

                <div id="multiTimeInputs" style="margin-top:8px;">
                    <div class="time-row">
                        <span>ì‹œì‘ ì‹œê°„:</span>
                        <input type="time" id="multiStartTime" name="multiStartTime" step="600" />
                    </div>
                    <div class="time-row">
                        <span>ì¢…ë£Œ ì‹œê°„:</span>
                        <input type="time" id="multiEndTime" name="multiEndTime" step="600" />
                    </div>
                </div>

                <div id="rangeTimeInputs" style="display:none; margin-top:8px;">
                    <div class="time-row">
                        <span>ì‹œì‘ ì‹œê°„:</span>
                        <input type="time" id="rangeStartTime" name="rangeStartTime" step="600" />
                    </div>
                    <div class="time-row">
                        <span>ì¢…ë£Œ ì‹œê°„:</span>
                        <input type="time" id="rangeEndTime" name="rangeEndTime" step="600" />
                    </div>
                </div>
            </div>
        </div>

        <!-- ========================== -->
        <!-- ê¸°ê°„ ì„ íƒ ëª¨ë“œ -->
        <!-- ========================== -->
        <div class="range-picker-container">
            <label class="toggle-container">
                <input type="checkbox" id="rangeModeToggle" />
                <span>ğŸ—“ï¸ ê¸°ê°„ ì„ íƒ ëª¨ë“œ</span>
            </label>
            <div id="rangeInputs" style="display:none; margin-top:5px;">
                <input type="text" id="rangePicker" placeholder="ê¸°ê°„ ì„ íƒ" />
            </div>
        </div>
    </div>

    <!-- ìš°ì¸¡ ë‹¬ë ¥ -->
    <div class="calendar-container">
        <div id="calendar"></div>
    </div>
</div>

<!-- ========================== -->
<!-- JS ìŠ¤í¬ë¦½íŠ¸ -->
<!-- ========================== -->
<script th:src="@{/js/schedule-manager.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/locales/ko.global.min.js"></script>

<div th:replace="fragments/footer :: siteFooter"></div>
</body>
</html>
