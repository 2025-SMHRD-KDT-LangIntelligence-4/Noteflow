<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="_csrf" th:content="${_csrf.token}" />
	<meta name="_csrf_header" th:content="${_csrf.headerName}" />
	<title>노션 | 파일 관리</title>
	<link rel="stylesheet" th:href="@{/css/header.css}" />
	<link rel="stylesheet" th:href="@{/css/notionmanager.css}" />
	<link rel="stylesheet" th:href="@{/css/footer.css}" />
</head>
<body>
<div th:replace="~{fragments/header :: siteHeader}"></div>

<div class="location-container">
	<!-- 왼쪽: 노트 리스트 컨테이너 -->
	<div class="notion-list-container">
		<!-- 탭 -->
		<div class="tab-container">
			<button class="tab-button active" data-tab="notes">📝 정리본</button>
			<button class="tab-button" data-tab="files">📁 원본파일</button>
		</div>

		<!-- 검색바 -->
		<input type="text" class="search-bar" id="searchInput" placeholder="파일이나 노트를 검색하세요...">

		<!-- 관리 버튼들 -->
		<div class="management-buttons">
			<button onclick="createFolder()">📁 폴더생성</button>
			<button onclick="uploadFile()">📤 파일업로드</button>
			<button onclick="downloadSelected()">💾 다운로드</button>
		</div>

		<!-- 노트/파일 리스트 -->
		<div class="notion-list" id="itemList">
			<div class="welcome-message">
				<p>노트나 파일을 선택해주세요</p>
			</div>
		</div>
	</div>

	<!-- 오른쪽: 컨텐츠 컨테이너 -->
	<div class="notion-content-container">
		<!-- 선택된 항목 제목 -->
		<div class="notion-title readonly" id="itemTitle">파일이나 노트를 선택해주세요</div>

		<!-- 컨텐츠 영역 -->
		<textarea class="notion-content readonly" id="itemContent" readonly placeholder="선택된 항목의 내용이 여기에 표시됩니다"></textarea>

		<!-- 버튼 컨테이너 -->
		<div class="button-container" id="buttonContainer">
			<div class="welcome-message">
				<p> 왼쪽에서 파일이나 정리본을 선택하시면<br>내용을 확인하고 편집할 수 있습니다</p>
			</div>
		</div>
	</div>
</div>

<!-- 컨텍스트 메뉴 -->
<div class="context-menu" id="contextMenu">
	<div class="context-menu-item" onclick="renameItem()">이름변경</div>
	<div class="context-menu-item" onclick="moveItem()">이동</div>
	<div class="context-menu-separator"></div>
	<div class="context-menu-item" onclick="deleteItem()">삭제</div>
</div>

<!-- 파일 업로드 input (숨김) -->
<input type="file" id="fileInput" style="display: none;" accept=".pdf,.docx,.txt,.md" multiple>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script th:src="@{/js/NotionManager.js}"></script>

<div th:replace="fragments/footer :: siteFooter"></div>
</body>
</html>