<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>마이페이지</title>
    <link rel="stylesheet" th:href="@{/css/header.css}" />
    <link rel="stylesheet" th:href="@{/css/mypage.css}" />
    <link rel="stylesheet" th:href="@{/css/footer.css}" />
</head>
<body>
    <!-- 헤더 -->
    <div th:replace="~{fragments/header :: siteHeader}"></div>

    <div class="location-container">
        <div class="mypage-container">
            <div class="title">
                마이페이지
                <button class="info-edit-button" id="editButton">
                    <img th:src="@{/images/write.svg}"/>수정하기
                </button>
            </div>

            <!-- 프로필 이미지 -->
            <div class="profile-image-location-container">
                <img th:src="${user.profileImage != null ? user.profileImage : '/images/default-profile.png'}"
                     alt="프로필 이미지" class="profile-image-container"/>
            </div>

            <!-- 사용자 별명 -->
            <div class="user-name" th:text="${user.nickname != null ? user.nickname : '닉네임 없음'}">사용자 이름</div>

            <!-- 사용자 정보 -->
            <div class="user-info-container">
                <div class="email-address">이메일</div>
                <div class="user-email-address" th:text="${user.email != null ? user.email : ''}">이메일 주소</div>

                <div class="id">아이디</div>
                <div class="user-id" th:text="${user.userId != null ? user.userId : ''}">아이디 값</div>

                <div class="pw">패스워드</div>
                <div class="user-pw" th:text="${user.userPw != null ? user.userPw : ''}">패스워드 값</div>

                <div class="social-login">소셜 로그인 여부</div>
                <div class="user-social-login" th:text="${user.socialLogin != null ? user.socialLogin : '없음'}">소셜 로그인 여부</div>

                <div class="interesting">관심 분야</div>
                <div class="user-interesting" th:text="${user.interestArea != null ? user.interestArea : '관심 분야 없음'}">관심 분야</div>
            </div>
        </div>
    </div>

    <!-- JS 블록: editMypage URL로 안전하게 이동 -->
    <script th:inline="javascript">
        /*<![CDATA[*/
        var editButton = document.getElementById('editButton');
        if(editButton){
            editButton.addEventListener('click', function(){
                // Spring Security, Controller에 맞게 /editMypage로 이동
                location.href = /*[[@{/editMypage}]]*/ '/editMypage';
            });
        }
        /*]]>*/
    </script>

    <div th:replace="~{fragments/footer :: siteFooter}"></div>
</body>
</html>
